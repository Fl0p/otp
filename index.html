<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Private TOTP Generator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Simple Private TOTP Generator</h1>
        
        <div class="content-wrapper">
            <div class="left-column">
                <div class="form-group">
            <label for="secret">Secret Key (Base32)</label>
            <div class="input-group">
                <input type="text" id="secret" placeholder="Enter your secret key">
                <button id="generateBtn" class="btn-generate" title="Generate random secret">ðŸŽ²</button>
            </div>
        </div>

        <div class="settings-group">
            <div class="form-group">
                <label for="digits">Digits</label>
                <select id="digits">
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                </select>
            </div>

            <div class="form-group">
                <label for="period">Period (sec)</label>
                <select id="period">
                    <option value="10">10</option>
                    <option value="15">15</option>
                    <option value="20">20</option>
                    <option value="30" selected>30</option>
                    <option value="60">60</option>
                </select>
            </div>

            <div class="form-group">
                <label for="algorithm">Algorithm</label>
                <select id="algorithm">
                    <option value="SHA-1" selected>SHA-1</option>
                    <option value="SHA-256">SHA-256</option>
                    <option value="SHA-512">SHA-512</option>
                </select>
            </div>
        </div>

        <div class="totp-row">
            <div class="totp-section">
                <div id="currentTOTP" class="totp-value">------</div>
            </div>
            <button id="copyBtn" class="btn-copy-totp" title="Copy TOTP">ðŸ“‹</button>
        </div>

        <div id="countdown" class="countdown">Valid for --s</div>

        <div class="label-section">
            <div class="label-inputs">
                <div class="form-group">
                    <label for="label">Label</label>
                    <input type="text" id="label" placeholder="Account or email">
                </div>
                <div class="form-group">
                    <label for="issuer">Service</label>
                    <input type="text" id="issuer" placeholder="Service name" value="TOTP">
                </div>
            </div>
            <button id="generateLabelBtn" class="btn-generate" title="Generate random label and service">ðŸŽ²</button>
        </div>

        <div class="form-group">
            <label for="otpauthUri">otpauth:// URI</label>
            <div class="input-group">
                <input type="text" id="otpauthUri" readonly placeholder="Fill secret and label to generate URI">
                <button id="copyUriBtn" class="btn-copy-uri" title="Copy URI">ðŸ“‹</button>
            </div>
        </div>

                <div class="qr-section" id="qrSection" style="display: none;">
                    <label>QR Code</label>
                    <canvas id="qrCode"></canvas>
                </div>
            </div>

            <div class="right-column">
                <h3>About Generator</h3>
                <p>TOTP (Time-based One-Time Password) generator for creating one-time codes for two-factor authentication.</p>
                <p>Works completely offline. Uses Web Crypto API. Customizable. QR code available.</p>
                <p>All calculations are performed locally in your browser. Data is not transmitted to any server and is not stored.</p>

                <h3>How to Use</h3>
                <ol>
                    <li><strong>Enter secret key</strong> (Base32) or generate a new one ðŸŽ²</li>
                    <li><strong>Configure parameters</strong> (if different from standard)</li>
                    <li><strong>Specify Label and Service</strong> to identify the account or generate ðŸŽ²</li>
                    <li><strong>Copy TOTP code</strong> ðŸ“‹ or scan the </li>
                </ol>
                <p>The generated link (and QR code) contains all parameters and can be used to import into authenticator apps (Google Authenticator, Authy, 1Password, etc.).</p>

                <h3>Why use this generator?</h3>
                <p><strong>Stay secure in the age of deepfakes and AI-generated content.</strong> Create a shared secret code with someone you trust. Both scan the QR code on this page or create one and share it securely to partner. The secret stays only on your personal devices.</p>
                <p>When communicating online (messages, calls, or video), and you need to verify each other's identity - simply open your generator and compare the current codes. If they match, you're talking to the real person. Simple, effective, and private.</p>
                <p><strong>Create multiple codes for different people and purposes.</strong> Use meaningful Labels and Services to organize them. Create different codes for business partners, family members, colleagues, friends, etc. Each shared secret serves as a unique authentication channel between you and that person or group.</p>
                <br>
                <p>This project is open source. Source code available at <a href="https://github.com/Fl0p/otp" target="_blank" rel="noopener noreferrer">GitHub</a>.</p>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/qrious/dist/qrious.min.js"></script>
    <script src="script.js"></script>
</body>
</html>

